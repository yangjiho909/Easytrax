#!/bin/bash
set -e

echo "­Ъџђ KATI в░░ьЈг в╣ївЊю ВІюВъЉ (вфевЊа ЖИ░віЦ ВюаВДђ)"

# Python в▓ёВаё ьЎЋВЮИ
python --version

# pip ВЌЁЖиИваѕВЮ┤вЊю
pip install --upgrade pip

# В║љВІю ьЂ┤вдгВќ┤
pip cache purge

# ЖИ░в│И ВЮўВА┤Вё▒ ВёцВ╣ў (В║љВІю ВЌєВЮ┤)
echo "­ЪЊд вфевЊа ВЮўВА┤Вё▒ ВёцВ╣ў ВцЉ..."
pip install --no-cache-dir -r requirements.txt

# вфевЇИ ьїїВЮ╝ ьЎЋВЮИ
if [ -d "model" ]; then
    echo "РюЁ вфевЇИ вћћваЅьєавдг ьЎЋВЮИвље"
else
    echo "Рџа№ИЈ вфевЇИ вћћваЅьєавдгЖ░ђ ВЌєВіхвІѕвІц"
fi

# ьЁюьћївд┐ вћћваЅьєавдг ьЎЋВЮИ
if [ -d "templates" ]; then
    echo "РюЁ ьЁюьћївд┐ вћћваЅьєавдг ьЎЋВЮИвље"
else
    echo "Рџа№ИЈ ьЁюьћївд┐ вћћваЅьєавдгЖ░ђ ВЌєВіхвІѕвІц"
fi

# ВаЋВаЂ ьїїВЮ╝ вћћваЅьєавдг ьЎЋВЮИ
if [ -d "static" ]; then
    echo "РюЁ ВаЋВаЂ ьїїВЮ╝ вћћваЅьєавдг ьЎЋВЮИвље"
else
    echo "Рџа№ИЈ ВаЋВаЂ ьїїВЮ╝ вћћваЅьєавдгЖ░ђ ВЌєВіхвІѕвІц"
fi

# ВёцВ╣ўвљю ьїеьѓцВДђ ьЎЋВЮИ
echo "­ЪЊІ ВёцВ╣ўвљю ьїеьѓцВДђ вфЕвАЮ:"
pip list

echo "РюЁ в╣ївЊю ВЎёвБї! вфевЊа ЖИ░віЦ Вцђв╣ёвље" 